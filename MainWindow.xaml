<Window x:Class="MobiDude_V2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MobiDude Firmware Uploader V2.2 by elral"
        Width="560"
        SizeToContent="Height"
        Icon="appicon.ico"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="10,10,10,0" VerticalAlignment="Top">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1" CornerRadius="6" Padding="10" Margin="0,5,0,5">
            <StackPanel VerticalAlignment="Top">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,5">
                    <TextBlock Text="COM-Port" VerticalAlignment="Center" Margin="0,0,10,0" Width="90"/>
                    <ComboBox x:Name="SerialPortComboBox" Width="100"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Arduino-Board" VerticalAlignment="Center" Margin="0,0,10,0" Width="90"/>
                    <ComboBox x:Name="ArduinoBoardComboBox" Width="180" DisplayMemberPath="Name"/>
                </StackPanel>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal" Margin="0,10,0,0"/>
            </StackPanel>
        </Border>

        <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="1" CornerRadius="6" Padding="10" Margin="0,5,0,5">
            <StackPanel VerticalAlignment="Top">
                <StackPanel>
                    <TextBlock Text="Info's from MobiFlight Boards" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
                    <Separator Margin="0,0,0,10"/>
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" Margin="0,0,0,0" Width="510">
                        <Button Content="Get Info" Width="100" Height="22" Margin="5,0" Click="GetInfoButton_Click"/>
                        <Button Content="Dump EEPROM" Click="DumpEEPROM_Button_Click" Width="117" Height="22" Margin="5,0"/>
                        <Button Content="Reset EEPROM" Click="ResetEEPROM_Button_Click" Width="117" Height="22" Margin="5,0"/>
                        <Button Content="Flash Mobifight FW" Click="Flash_FW_Button_Click" Width="116" Height="22" Margin="5,0"/>
                    </StackPanel>
                    <StackPanel VerticalAlignment="Center"  HorizontalAlignment="Center" Orientation="Horizontal" Margin="0,15,5,0">
                        <Button Content="Terminal" Width="110" Height="22" Margin="5,0" Click="TerminalButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <Expander Grid.Row="2" IsExpanded="False" Margin="0,7,0,1">
            <Expander.Header>
                <TextBlock Text="Flashing Firmware file" FontWeight="Bold"/>
            </Expander.Header>
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="6" Padding="10">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <Button Content="Open FW File" Click="OpenFileButton_Click" Width="80" Height="22"/>
                    </StackPanel>
                    <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="0">
                        <TextBlock x:Name="SelectedFileText" Width="450" Height="25" Padding="5,2"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal" Margin="0,10,0,0">
                        <Button Content="Upload" Width="110" Height="25" Margin="5,0" Click="UploadButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Expander>
        
        <Expander Grid.Row="3" IsExpanded="False" Margin="0,7,0,1">
            <Expander.Header>
                <TextBlock Text="Command Simulator" FontWeight="Bold"/>
            </Expander.Header>
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="6" Padding="10">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <Button Content="Open File" Width="80" Click="OpenCommandFileButton_Click"/>
                    </StackPanel>
                    <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="0" Margin="0,0,0,5">
                        <TextBlock x:Name="SelectedCommandFileText" Width="450" Height="25" Padding="5,2"/>
                    </Border>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button Content="Send" Width="80" Height="22" Click="SendCommandFileButton_Click"/>
                        <Button Content="Cancel" Width="80" Height="22" Margin="20,0,0,0" Click="CancelCommandFileButton_Click"/>
                        <CheckBox x:Name="RepeatCheckbox" Content="Repeat" Margin="30,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Expander>

        <Border Grid.Row="4" Margin="0,7,0,1" Padding="10" Grid.RowSpan="2">
            <Button Width="100" Height="30" HorizontalAlignment="Right" VerticalAlignment="Top" Click="ExitButton_Click">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="⏻" FontSize="14" Margin="0,0,5,0"/>
                    <TextBlock Text="Exit" FontSize="14"/>
                </StackPanel>
            </Button>
        </Border>
    </Grid>
</Window>
